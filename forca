import random


def jogar_forca():
    print("*********************************")
    print("Bem vindo ao jogo de Forca!")
    print("*********************************")

    with open("palavras.txt") as arquivo:
        palavras = []
        for linha in arquivo:
            linha = linha.strip()
            palavras.append(linha)

    numero = random.randrange(0, len(palavras))

    palavra_secreta = palavras[numero].lower()
    letras_corretas = ["_" for letra in palavra_secreta]

    erros = 0

    print(letras_corretas)

    while erros < 6:
        chute = createAChute()

        if chute in palavra_secreta:
            index = 0
            for letra in palavra_secreta:
                if chute == letra:
                    letras_corretas[index] = letra
                index += 1
            print(letras_corretas)
        else:
            erros += 1
            print("Faltam {} tentativas até você se enforcar".format(6 - erros))

        if "_" not in letras_corretas:
            print(letras_corretas)
            print("Parabéns, você acertou a palavra!")
            return
    print("Você perdeu, infelizmente você foi enformado! A palavra secreta era {}.".format(
        palavra_secreta.upper()))


def validateChute(letra):
    while not letra.isalpha() or len(letra) > 1:
        letra = input("Digite apenas uma letra: ")
    return letra


def createAChute():
    chute = input("Digite uma letra: ").strip().lower()
    chute = validateChute(chute)
    return chute


if __name__ == "__main__":
    jogar_forca()
